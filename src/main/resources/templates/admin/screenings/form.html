<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Сеансы фильмов</title>
</head>
<body>
<h1 th:text="${screening.id == null} ? 'Новый сеанс' : 'Настройка сеансов'">Сеансы фильмов</h1>

<form th:action="${screening.id == null} ? @{/admin/screenings} : @{|/admin/screenings/${screening.id}|}"
      th:object="${screening}"
      method="post">

    <div>
        <label>Фильм:
            <select th:field="*{movie}">
                <option th:each="m : ${movies}"
                        th:value="${m.id}"
                        th:text="${m.title}">
                </option>
            </select>
        </label>
    </div>

    <div>
        <label>Время сеанса:
            <input type="datetime-local" th:field="*{startTime}">
        </label>
        <div th:if="${#fields.hasErrors('startTime')}"
             th:errors="*{startTime}">Error</div>
    </div>

    <div>
        <label>Зал:
            <input type="text" th:field="*{hall}">
        </label>
        <div th:if="${#fields.hasErrors('hall')}"
             th:errors="*{hall}">Error</div>
    </div>

    <div>
        <label>Цена билета:
            <input type="number" step="0.01" th:field="*{price}">
        </label>
        <div th:if="${#fields.hasErrors('price')}"
             th:errors="*{price}">Error</div>
    </div>

    <button type="submit">Сохранить</button>
</form>

<p>
    <a th:href="@{/admin/screenings}">Вернуться</a>
</p>
<script th:src="@{/js/theme.js}"></script>
</body>
</html>