<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Сеансы admin</title>
</head>
<body>
<h1>Сеансы (admin)</h1>

<p>
    <a th:href="@{/}">Вернуться на главную</a> |
    <a th:href="@{/admin/movies}">Фильмы</a>
    <a th:href="@{/about}">О кинотеатре</a>
    <span th:if="${#authorization.expression('hasRole(''USER'')')}">
        <a th:href="@{/user/profile}">Профиль</a>
        <a th:href="@{/user/favorites}">Избранное</a>
    </span>
</p>

<p>
    <a th:href="@{/admin/screenings/new}">Добавить сеанс</a>
</p>

<table border="1" cellpadding="4">
    <tr>
        <th>ID</th>
        <th>Фильмы</th>
        <th>Время сеанса</th>
        <th>Зал</th>
        <th>Цена билета</th>
        <th>Действия</th>
    </tr>
    <tr th:each="s : ${screenings}">
        <td th:text="${s.id}">1</td>
        <td th:text="${s.movie.title}">Movie title</td>
        <td th:text="${s.startTime}">2024-01-01</td>
        <td th:text="${s.hall}">Hall 1</td>
        <td th:text="${s.price}">9.99</td>
        <td>
            <a th:href="@{|/admin/screenings/${s.id}/edit|}">Редактировать</a>
            <form th:action="@{|/admin/screenings/${s.id}/delete|}" method="post" style="display:inline;">
                <button type="submit">Удалить</button>
            </form>
        </td>
    </tr>
</table>
<script th:src="@{/js/theme.js}"></script>
</body>
</html>
